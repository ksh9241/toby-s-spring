# 오브젝트와 의존관계
스프링에 가장 관심을 많이 두는 대상은 오브젝트이다. 오브젝트에 대한 관심은 애플리케이션에서 오브젝트가 생성되고 다른 오브젝트와 관계를 맺고, 사용되고, 소멸하기까지 전 과정을 진지하게 생각해볼 필요가 있다. 더 나아가 오브젝트는 어떻게 설계돼야 하는지에 대해서도 살펴봐야 한다.

### 1.1 초난감 DAO
DAO : (Data Access Object)는 DB를 사용해 데이터를 조회하거나 조작하는 기능을 전담하도록 만든 오브젝트를 말한다.
자바빈 : 자바빈(JavaBean) 은 원래 비주얼 툴에서 조작 가능한 컴포넌트를 말한다. 자바빈의 몇 가지 코딩 관례는 JSP 빈, EJB 와 같은 표준 기술과 자바빈 스타일의 오브젝트를 사용하는 오픈소스 기술을 통해 계속 이어져 왔다.
	- 디폴트 생성자 : 자바빈은 파라미터가 없는 디폴트 생성자를 갖고 있어야 한다. 툴이나 프레임워크에서 리플렉션을 이용해 오브젝트를 생성하기 때문에 필요하다.
	- 프로퍼티 : 자바빈이 노출하는 이름을 가진 속성을 프로퍼티라고 한다.
	
### 1.2 관심사의 분리
개발자가 객체를 설계할 때 가장 염두에 둬야 할 사항은 바로 미래의 변화를 어떻게 대비할 것인가이다. 변화가 한 번에 한 가지 관심에 집중돼서 일어난다면, 우리가 준비해야 할 일은 한 가지 관심이 한 군데에 집중되게 하는 것이다. 즉 관심이 같은 것끼리는 모으고, 관심이 다른 것은 따로 떨어져 있게 하는 것이다. 프로그래밍 기초 개념 중에 관심사의 분리(Separation of Concerns)라는 게 있다. 이를 객체지향에 적용해보면, 관심이 같은 것끼리는 하나의 객체 안에 모이게 하여 관심이 다른 것과 서로 영향을 주지 않도록 분리하는 것이다.

리팩토링 : 기존의 코드를 외부의 동작방식에는 변화없이 내부 구조를 변경해서 재구성하는 작업 또는 기술을 말한다. 리팩토링을 하게되면 코드 내부 설계가 개선되어 코드를 이해하기가 더 편해지고, 변화에 더 효율적으로 대응할 수 있다. 리팩토링이 절실히 필요한 코드를 나쁜 냄새라고 부르기도 한다. 이런 코드는 중복이 많고 코드가 지저분하다는 것이다.

디자인 패턴 : 디자인 패턴은 소프트웨어 설계 시 특정 상황에서 자주 만나는 문제를 해결하기 위해 사용할 수 있는 재사용 가능한 솔루션을 말한다. 모든 패턴에는 간결한 이름이 있어서 잘 알려진 패턴을 적용하고자 할 때 간단히 패턴 이름을 언급하는 것만으로도 설계의 의도와 해결책을 함께 설명할 수 있다는 장점이 있다. 디자인 패턴의 구조는 크게 두 가지로 클래스 상속과 오브젝트 합성이다.
	- 템플릿 메소드 패턴 : 상속을 통해 슈퍼클래스(부모클래스) 의  기능을 확장할 때 사용하는 대표적인 방법이다.
	- 팩토리 메서드 패턴 : 상속을 통한 기능을 확장하는 패턴이다. 커스텀 팩토리 클래스를 만든 뒤 인풋값에 따른 아웃풋을 만들어낸다. (ex : 성별클래스 extends 성별팩토리, 남자 extends 성별, 여자 extends 성별 의 클래스가 있을 때 성별팩토리에 인풋값에 따라 남자 혹은 여자의 대한 아웃풋이 나온다.)

### 관계설정 책임의 분리
Dao의 A클래스와 커넥션의 B클래스의 불필요한 의존관계를 없애기 위해서는 Dao에 직접적으로 커넥션을 생성할 수 있지만 이렇게 생성하게 될 경우 B클래스의 수정이 A클래스를 무조건적으로 거쳐서 진행해야 하기 때문에 불필요한 의존관계가 형성된다. 따라서 A클래스의 생성자 파라미터에 B클래스를 파라미터로 받아서 커넥션하게 되면 불필요한 의존관계가 사라진다. (1장의 UserDao, UserDaoTest.java 확인)

### 원칙과 패턴
- 개방 폐쇄 원칙( Open-Closed-Principle [OCP] ) : 이 원칙은 클래스나 모듈은 확장에는 열려 있어야 하고 변경에는 닫혀있어야 한다. 예로 UserDao는 DB 연결 방법이라는 기능을 확장하는 데는 열려있다. 동시에 UserDao 자신의 핵심 기능을 구현한 코드는 그런 변화에 영향을 받지 않고 유지할 수 있으므로 변경에는 닫혀있다고 말할 수 있다.

- 객체지향 설계 원칙 (SOLID) : 객체지향 설계 원칙은 좀 더 일반적인 상황에서 적용 가능한 설계 기준이라고 볼 수 있다. SOLID란 5가지 객체지향 설계 원칙을 말한다.
	- SOLID 의 5가지 원칙
	- SPP (The Single Responsibility Principle) : 단일 책임 원칙
	- OCP (The Open Closed Principle) : 개방 폐쇄 원칙
	- LSP (The Liskov Substitution Principle) : 리스코프 치환 원칙
	- ISP (The Interface Segregation Principle) : 인터페이스 분리 원칙
	- DIP (The Dependency Inversion Principle) : 의존관계 역전 원칙